{
  "version": 3,
  "name": "isms-gateway",
  "port": 8080,
  "timeout": "3s",
  "cache_ttl": "30s",
  "endpoints": [
    {
      "endpoint": "/auth/{*}",
      "backend": [{ "host": ["http://auth-service:9000"], "url_pattern": "/{*}" }],
      "extra_config": { "proxy": { "preserve_host": true } }
    },
    {
      "endpoint": "/api/assets/{*}",
      "backend": [{ "host": ["http://asset-service:9001"], "url_pattern": "/assets/{*}" }]
    },
    {
      "endpoint": "/api/vulns/{*}",
      "backend": [{ "host": ["http://vulnerability-service:9002"], "url_pattern": "/{*}" }]
    },
    {
      "endpoint": "/api/mitigations/{*}",
      "backend": [{ "host": ["http://mitigation-service:9003"], "url_pattern": "/{*}" }]
    },
    {
      "endpoint": "/api/reports/{*}",
      "backend": [{ "host": ["http://report-service:9004"], "url_pattern": "/{*}" }]
    },
    {
      "endpoint": "/api/logs/{*}",
      "backend": [{ "host": ["http://log-service:9005"], "url_pattern": "/{*}" }]
    }
  ]
}
